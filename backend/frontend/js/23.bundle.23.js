(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{182:function(s,n,e){(function(n){const t=e(6),i=e(7),a=e(11),l=e(12),o=e(150),c=e(231);s.exports=t.View.extend({template:c,id:"dashboard",columns:0,stats:{},ui:{links:"a"},events:{"click @ui.links":function(s){s.preventDefault(),a.navigate(n(s.currentTarget).attr("href"),!0)}},templateContext:function(){let s=this;return{getUserName:function(){return i.User.get("nickname")||i.User.get("name")},getHostStat:function(n){return s.stats&&void 0!==s.stats.hosts&&void 0!==s.stats.hosts[n]?o.niceNumber(s.stats.hosts[n]):"-"},canShow:function(s){return i.User.isAdmin()||i.User.canView(s)},columns:s.columns}},onRender:function(){let s=this;void 0===s.stats.hosts&&l.Reports.getHostStats().then(n=>{s.isDestroyed()||(s.stats.hosts=n,s.render())}).catch(s=>{console.log(s)})},preRender:function(s){this.columns=0;["proxy_hosts","redirection_hosts","streams","dead_hosts"].map(s=>{this.columns+=i.User.isAdmin()||i.User.canView(s)?1:0}),void 0!==s&&this.render()},initialize:function(){this.preRender(),this.listenTo(i.User,"change",this.preRender)}})}).call(this,e(4))},231:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="page-header">\n    <h1 class="page-title">'+__e(i18n("dashboard","title",{name:getUserName()}))+"</h1>\n</div>\n\n",columns&&(__p+='\n<div class="row">\n    ',canShow("proxy_hosts")&&(__p+='\n    <div class="col-sm-'+__e(24/columns)+" col-lg-"+__e(12/columns)+'">\n        <div class="card p-3">\n            <div class="d-flex align-items-center">\n                    <span class="stamp stamp-md bg-green mr-3">\n                      <i class="fe fe-zap"></i>\n                    </span>\n                <div>\n                    <h4 class="m-0"><a href="/nginx/proxy">'+__e(getHostStat("proxy"))+" <small>"+__e(i18n("proxy-hosts","title"))+"</small></a></h4>\n                </div>\n            </div>\n        </div>\n    </div>\n    "),__p+="\n\n    ",canShow("redirection_hosts")&&(__p+='\n    <div class="col-sm-'+__e(24/columns)+" col-lg-"+__e(12/columns)+'">\n        <div class="card p-3">\n            <div class="d-flex align-items-center">\n                    <span class="stamp stamp-md bg-yellow mr-3">\n                      <i class="fe fe-shuffle"></i>\n                    </span>\n                <div>\n                    <h4 class="m-0"><a href="/nginx/redirection">'+__e(getHostStat("redirection"))+" <small>"+__e(i18n("redirection-hosts","title"))+"</small></a></h4>\n                </div>\n            </div>\n        </div>\n    </div>\n    "),__p+="\n\n    ",canShow("streams")&&(__p+='\n    <div class="col-sm-'+__e(24/columns)+" col-lg-"+__e(12/columns)+'">\n        <div class="card p-3">\n            <div class="d-flex align-items-center">\n                    <span class="stamp stamp-md bg-blue mr-3">\n                      <i class="fe fe-radio"></i>\n                    </span>\n                <div>\n                    <h4 class="m-0"><a href="/nginx/stream">'+__e(getHostStat("stream"))+" <small> "+__e(i18n("streams","title"))+"</small></a></h4>\n                </div>\n            </div>\n        </div>\n    </div>\n    "),__p+="\n\n    ",canShow("dead_hosts")&&(__p+='\n    <div class="col-sm-'+__e(24/columns)+" col-lg-"+__e(12/columns)+'">\n        <div class="card p-3">\n            <div class="d-flex align-items-center">\n                    <span class="stamp stamp-md bg-red mr-3">\n                      <i class="fe fe-zap-off"></i>\n                    </span>\n                <div>\n                    <h4 class="m-0"><a href="/nginx/404">'+__e(getHostStat("dead"))+" <small>"+__e(i18n("dead-hosts","title"))+"</small></a></h4>\n                </div>\n            </div>\n        </div>\n    </div>\n    "),__p+="\n</div>\n"),__p+="\n";return __p}}).call(this,__webpack_require__(3))}}]);